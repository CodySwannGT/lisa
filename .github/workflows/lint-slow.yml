# This file is managed by Lisa.
# Do not edit directly â€” changes will be overwritten on the next `lisa` run.

name: ğŸ¢ Slow Lint Rules

on:
  schedule:
    # Run nightly at 2 AM UTC
    - cron: '0 2 * * *'
  workflow_dispatch:
    # Allow manual triggering

jobs:
  lint-slow:
    name: ğŸ¢ Slow Lint Rules
    runs-on: ubuntu-latest
    steps:
      - name: ğŸ“¥ Checkout
        uses: actions/checkout@v4

      - name: ğŸ“¦ Setup Bun
        uses: oven-sh/setup-bun@v2
        with:
          bun-version: latest

      - name: ğŸ“¦ Install dependencies
        run: bun install --frozen-lockfile

      - name: ğŸ¢ Run slow lint rules
        run: bun run lint:slow

  create_issue_on_failure:
    name: ğŸ“Œ Create Issue on Failure
    needs: [lint-slow]
    if: ${{ failure() }}
    uses: ./.github/workflows/create-issue-on-failure.yml
    with:
      workflow_name: 'Slow Lint Rules'
      failed_job: 'lint-slow'
    secrets: inherit
